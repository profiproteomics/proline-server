<%@ val headers: Seq[String] %>
<%@ val records: Seq[Map[String,Any]] %>

<%
val nbRecords = records.length
%>

<html>

<body>

<table>

<tr>
#for (header <- headers)
  <th>${ header }</th>
#end
</tr>

#for (record <- records)
<tr>
#for (header <- headers)
  <td>${ Option(record(header)).getOrElse("") }</td>
#end
</tr>
#end

</table>

</body>
</html>